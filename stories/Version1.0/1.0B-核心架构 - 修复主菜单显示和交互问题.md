当GameState.MAIN_MENU时候 无法正常看到菜单！ 也无法交互 请查看现有代码 制定修复计划修复它

# 修复主菜单显示和交互问题计划

## 问题分析

当前主菜单无法显示和交互的主要问题：

1. **渲染器clear冲突** - `Renderer.clear()` 清除了整个屏幕，包括GUI内容
2. **OpenGL状态冲突** - 3D渲染器的深度测试和混合模式设置影响GUI渲染
3. **渲染顺序问题** - GUI渲染可能被后续操作覆盖

## 修复步骤

### 1. 修改Game.java渲染逻辑

- 在菜单状态下不调用`renderer.clear()`或使用不同的清除方式
- 确保菜单状态只渲染GUI内容，不渲染3D世界
- 添加调试日志输出帮助诊断

### 2. 优化GUI渲染器

- 确保GUI渲染器正确初始化和绑定
- 检查UI着色器是否正常加载
- 验证正交投影矩阵设置

### 3. 修复OpenGL状态管理

- 在GUI渲染前后正确设置OpenGL状态（深度测试、混合模式等）
- 确保GUI渲染不受3D渲染器状态影响

### 4. 添加调试和错误处理

- 在关键位置添加日志输出
- 添加着色器编译错误检查
- 验证鼠标坐标转换是否正确

## 具体实施

### Game.java修改

```java
private void render() {
    if (window.isResized()) {
        renderer.resize(window.getWidth(), window.getHeight());
    }

    // 菜单状态使用不同的清除方式
    if (currentState == GameState.MAIN_MENU || 
        currentState == GameState.SINGLEPLAYER_MENU ||
        currentState == GameState.CREATE_WORLD) {
        GL11.glClear(GL11.GL_COLOR_BUFFER_BIT); // 只清除颜色缓冲
    } else {
        renderer.clear(); // 游戏状态使用原来的清除方式
    }
    // ... 其余渲染逻辑保持不变
}
```

### GuiRenderer优化

- 检查shader初始化状态
- 验证VAO/VBO创建是否成功
- 确保正交投影矩阵计算正确

## 验证测试

1. 启动游戏，确认主菜单正常显示
2. 测试鼠标交互功能
3. 验证状态切换是否正常
4. 检查OpenGL错误状态